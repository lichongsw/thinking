# 为啥需要纠结用哪一个

散列表的插入、删除、查找操作的时间复杂度可以做到常量级的 O(1)，非常高效。而二叉查找树在比较平衡的情况下，插入、删除、查找操作时间复杂度才是 O(logn)，明显不是对手。为啥能够有选择纠葛呢？

## 使用场景除了单点还有范围

散列表中的数据是无序存储的，二叉查找树的中序遍历是有序的。前者想要的就是数据的离散和平均分布，后者追求的是有序。偏向单兵操作用散列，偏向范围和顺序操作用平衡树

## 稳定性要求比较苛刻

散列表是预分配，扩容时有性能影响，但可以用空间来换取时间来保证稳定性。散列负载重冲突比较多时，性能也会有下降，甚至有这种攻击方式。平衡二叉查找树的性能非常稳定，时间复杂度稳定在 O(logn)。如果是静态数据且事先就知道数据量，一次性预分配足够空间而且冲突是受控，散列就很合适。平衡二叉查找树适合动态范围，可以平稳生长。

## 再思考一下

各有各的长短，新发展出了跳表skiplist就是一种更平衡的产物，例如用在redis的sorted set的底层数据结构。

1. 兼顾有序

2. 插入和删除操作简单。平衡树可能会涉及子树的调整，跳表只是删减指针

3. 范围查找更简单。平衡树涉及子树的中序遍历还要筛选符合范围的结构，跳表直接使用第一层指针遍历
