# 2019年度工作方面的记录和回顾

说来惭愧，这是第一次非工作性质为自己写的工作总结。可能是在一个切换的档口确实有些感悟需要记录下来以后细品。工作十年应该看透的早已经明白，看不懂的以后也难得明悟了。尽力做到客观的自我反思和批评，只为今后工作的问心无愧。

以后每年末必须为自己写上一份总结，记录各种本年度比较大的事情的选择，结果，复盘。至于下一年的工作计划，在组织没有下达明确的工作目标之前就是一个伪命题。如果你是为团队工作，去让组织下达明确的目标是你的首要任务。如果你带团队，分解整个团队工作目标到团队成员就是你的首要任务。缺乏明确的目标是一件非常危险的事情。

# 2019

企业：西山居

职位：高级工程师，客户端小组leader（直属下属3人）

## TOP 1: HD版本

### 选择

由于cocos-2dx版本比较老旧，项目组决定使用新的游戏引擎（defold）开发全新版本。我本人负责客户端的整体开发工作以及项目的整体进度安排。

### 结果

项目耗时9个月后以失败告终，虽然有完整的可用产品但远达不到作为下一代可持续发展产品的级别。最终客户端部分的投入收效甚微，服务端得以保留（因为整体架构的重新设计，服务端支持多种客户端平台）

### 反思

作为一个技术人员的技术选型一定要考虑有足够多商业化案例和活跃的社区。自己造轮子适配defold是失败的选择，况且引擎这辆车都在别人手上，风险太高。这一路上填了很多坑，在承受未知心理压力的情况下对士气影响很大。

### 记录

客户端部分可圈点技术工作：

1. 客户端减重，去掉各种本地业务逻辑，存粹由事件（远端网络时间，用户操作事件）来驱动。
2. 客户端与后台的各种长短连接整合为一个长连接到网关，去掉各种轮询并统一使用订阅和推送模式。
3. 客户端分层，模型和场景之间使用订阅消息解耦。场景部分不再充斥着各种业代码和回调函数。
4. 场景基础抽象和重用，提高资源的利用效率。
5. 两次采坑：一是protobuf的any嵌套在转字符串时丢失，二是clang在处理嵌套lambda表达式时不明原因挂起。

服务端部分可圈点技术工作：

1. 通读网关和主要业务服务的代码并画出相应交互关系图。
2. 使用golang编写的常用数据结构和算法20种左右。
3. 使用golang编写并使用pprof工具调优简单的全双工通信例子，吞吐效率方面提高10倍。
4. 抽出大量时间相对深入的理解mysql和redis这两块，对存储和缓存这块认知相对客观。

# Profession

IT是一个工具类和效率类的行业，其可以对接的工种和技术栈数不胜数。哪个行业有红海，对应的IT技术在资本的作用下就会急速发展直到形成稳定的局面。但大部分人注定是为了生活而工作，毋庸置疑这也是社会体系稳定的基础。各个行业像一个个不同的围城，有人想进有人想出。不能以自身能力突破围城的人很快就能看到天花板而止步不前，而精英玩家却能够轻易跨越这道坎，在许多行业中玩的风生水起。如果想在专业领域有所发展，真的要扪心自问一下你是真的热爱这个行业吗，愿意今后花很多时间在里面为行业添砖加瓦吗（哪怕是加点水泥灰也行，只要你能够乐在其中）？或者换一个低一点要求的说法，你欣赏这门技术，或者赞同这个行业的价值观，或者就是愿意与这一些人相处吗？我自认不是一个很好的程序员，学习和工作中有很长一段时间的懵懂期，不清楚自己为啥学习这些。也许有一部分程序员跟我一样没有找到知识的用武之地，没有能够设身处地明白为啥会有这样的学科而只是机械式的按照各种规则和经验原则来把工作做完。工作多年之后，我慢慢的找到了挺多知识的应用场景，开始认可欣赏进而思考一些场景和技术。我变得愿意在工作之外写写代码练手，写写记录来让学习和理解变得可持续和相互对照。直到前2年我才算是入门了，真的有点难堪。对我这样非逻辑思维相对迟钝的人来说，单纯的工作环境里如果没有引路人确实会原地踏步。期望以后开发出更多的途径去接触到不同的人，主动给思维的变化找突破口。

时间何其珍贵，有机会就尽量追逐你的内心并把时间花在你愿意珍惜的地方。这一次跟MS的接触中，由于渠道上的职位的描述只是高级工程师，超大量的数据和足够高的英文要求等等都不能反应具体工作内容。直到收到面试安排的邮件的通知后才知道具体的JD，对比之后发现还有自己更想去挑战的职位。这就不太理想了，虽然对大公司的流程来讲肯定会比较费事，但我还是提出了自己的想法想去看看有没有机会做自己更想做的事情（这个事情刚好发生在写总结的时候，后续结果要等以后再补）。

没有来日方长，而且行业一直都是此消彼长的。追逐自己想做的事情或者更物质一些在有限的时间里换匹配的价码。等以后回想起来这段工作经历的时候，最好的情况是你去做了想做的事情，次之你争取了最好的物质条件。

# Expectation

日常生活中要管理好自己的期望和外部的期望之间的平衡，才能让各种事情中的冲突尽量降低，才容易顺其自然的达成一致。同一件事情究竟是选择出击还是防御，这个真的太重要了。因为期望不一致选错策略，结果会大相径庭。有一次在与高层的对话中，因为过于想表现自己把什么事情都从头扯到尾，娓娓道来，事无巨细然而毫无重点。给人的感觉就是跟不上节奏，绕了半天才能讲明白的负面印象。这是典型的策略失败，以后面对不可抗力的未知绝对要先防守。在防守中如果被引到细节才可以适当反攻一下，战果要先求不败，然后再求局部胜利，千万不要被一棒子打到全盘皆输。

期望在另一个层面上是一种原始的驱动力，往往有机会成为一个新阶段的启点。你想提高技术水平，想拓宽人脉，想晋升到更高的职位，想拿更高的薪水，想在更优秀的团队工作，想做更优秀的产品，哪怕想演奏好一首曲子，想烹饪出一桌大餐，想看完一部喜欢的剧等等都是应该的。有了期望才会心甘情愿的付出努力去一点点靠近目标，不要各种乱象搅乱自己的步伐。老实说只要你开始了，其实结果已经不是最重要的了。成事在天而已，不成又能如何呢。在努力的过程中，你所感受到的执行力，专注力，成就感，豁然开朗的瞬间，还有疲惫感，挫败感，得失权衡等等才是生活。你不必是一个面具侠，守住本心悠然自得即可，做一个丰满的自己。

# Responsibility

大多数时候责任是成长的催化剂，但少数情况下责任会成为相当严重的制约。在局面打不开的时候，责任会让你勇敢跳出舒适区去放手一搏，你自己都不知道能够做到什么程度。在局面还不错的时候，责任反而会成为一种制约，你不敢或者不能确定能否冒险找到更好的局面。如果放弃了当前还不错的局面后搞砸了后面的冒险，你真的会承受难以想象的压力。

上学的时候和工作早期对责任并不敏感，就是一个懵懂（其实是失败）的状态。没有特别想过自己的定位，以及自己需要承的责任。一路上就是这样跟着感觉走，经历有挑战的事情并不多。说白了，这个时期没有经历像样的锻炼也并不擅长承担责任。对工作，收入，技术，家庭生活等等需要认真经营的社会活动没有尽到自己的职责，思维模式人还处于象牙塔的延续中（何其可叹）。估计一部分人也在这种模式中，直到生活真的给了足够的压力，担子足够重了才才能明白过来。

2017年为了家庭而没有选择去外出，2020年勇敢的去争取吧，不负光阴不负家。

